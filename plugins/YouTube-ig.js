import _0x180c23 from'node-fetch';import _0x73399c from'axios';import _0x34c33c from'instagram-url-direct';import{instagram}from'@xct007/frieren-scraper';import{instagramdl}from'@bochilteam/scraper';import _0x1b0152 from'@sasmeee/igdl';import{fileTypeFromBuffer}from'file-type';const handler=async(_0xb73396,{conn:_0x3caa5d,args:_0x45e7ef,command:_0x330957,usedPrefix:_0x3c5153})=>{let _0x8814c={'key':{'participants':'0@s.whatsapp.net','remoteJid':'status@broadcast','fromMe':![],'id':'Halo'},'message':{'contactMessage':{'vcard':'BEGIN:VCARD\x0aVERSION:3.0\x0aN:Sy;Bot;;;\x0aFN:y\x0aitem1.TEL;waid='+_0xb73396['sender']['split']('@')[0x0]+':'+_0xb73396['sender']['split']('@')[0x0]+'\x0aitem1.X-ABLabel:Ponsel\x0aEND:VCARD'}},'participant':'0@s.whatsapp.net'};if(!_0x45e7ef[0x0])return _0x3caa5d['reply'](_0xb73396['chat'],'*[❗𝐈𝐍𝐅𝐎❗]\x20𝙸𝙽𝙶𝚁𝙴𝚂𝙴\x20𝚄𝙽\x20𝙴𝙽𝙻𝙰𝙲𝙴\x20𝙳𝙴\x20𝙸𝙽𝚂𝚃𝙰𝙶𝚁𝙰𝙼,\x20𝙴𝙹𝙴𝙼𝙿𝙻𝙾:\x20'+(_0x3c5153+_0x330957)+'*\x20https://www.instagram.com/reel/Cc0NuYBg8CR/?utm_source=ig_web_copy_link',_0x8814c,_0xb73396);_0x3caa5d['reply'](_0xb73396['chat'],'*[❗]\x20ᴅᴇsᴄᴀʀɢᴀɴᴅᴏ\x20sᴜ\x20ᴠɪᴅᴇᴏ,\x20ᴀɢᴜᴀʀᴅᴇ\x20ᴜɴ\x20ᴍᴏᴍᴇɴᴛᴏ\x20ᴘᴏʀ\x20ғᴀᴠᴏʀ,\x20ᴇsᴛᴇ\x20ᴘʀᴏᴄᴇsᴏ\x20ᴘᴜᴇᴅᴇ\x20ᴅᴜʀᴀʀ\x20ᴇɴᴛʀᴇ\x202\x20ʏ\x2010\x20ᴍɪɴᴜᴛᴏs\x20ᴅᴇᴘᴇɴᴅɪᴇɴᴅᴏ\x20ᴅᴇ\x20ʟᴀ\x20ᴅᴜʀᴀᴄɪᴏɴ\x20ᴅᴇʟ\x20ᴠɪᴅᴇᴏ...*',_0x8814c,_0xb73396);try{const _0x57451f=await _0x1b0152(_0x45e7ef[0x0]);for(let _0x2f19de=0x0;_0x2f19de<_0x57451f['length'];_0x2f19de++){const _0x2b3b02=await getBuffer(_0x57451f[_0x2f19de]['download_link']);if(_0x2b3b02['detectedType']['mime']['startsWith']('image/'))await _0x3caa5d['sendMessage'](_0xb73396['chat'],{'image':{'url':_0x57451f[_0x2f19de]['download_link']}},{'quoted':_0xb73396});else _0x2b3b02['detectedType']['mime']['startsWith']('video/')&&await _0x3caa5d['sendMessage'](_0xb73396['chat'],{'video':{'url':_0x57451f[_0x2f19de]['download_link']}},{'quoted':_0xb73396});}}catch{try{const _0x285002=await instagram['download'](_0x45e7ef[0x0]);for(const _0x5a1386 of _0x285002){const _0x45819e=await(await _0x180c23('https://tinyurl.com/api-create.php?url='+_0x45e7ef[0x0]))['text'](),_0xd9a23d=('🔗\x20*Url:*\x20'+_0x45819e)['trim']();_0x3caa5d['sendFile'](_0xb73396['chat'],_0x5a1386['url'],'error.mp4',_0xd9a23d,_0xb73396),await new Promise(_0x5b293a=>setTimeout(_0x5b293a,0x2710));}}catch{try{const _0x45f526=await _0x34c33c(_0x45e7ef[0x0])['url_list'][0x0],_0x41df80=await(await _0x180c23('https://tinyurl.com/api-create.php?url='+_0x45e7ef[0x0]))['text'](),_0x5bcbeb=('🔗\x20*Url:*\x20'+_0x41df80)['trim']();await _0x3caa5d['sendFile'](_0xb73396['chat'],_0x45f526,'error.mp4',_0x5bcbeb,_0xb73396);}catch{try{const _0x109cea=await instagramdl(_0x45e7ef[0x0]),_0x2b5773=await(await _0x180c23('https://tinyurl.com/api-create.php?url='+_0x45e7ef[0x0]))['text'](),_0x441dea=('🔗\x20*Url:*\x20'+_0x2b5773)['trim']();for(const {url:_0x402f37}of _0x109cea)await _0x3caa5d['sendFile'](_0xb73396['chat'],_0x402f37,'error.mp4',_0x441dea,_0xb73396);}catch{try{const _0x259bc1=await _0x180c23('https://api.lolhuman.xyz/api/instagram?apikey='+lolkeysapi+'&url='+_0x45e7ef[0x0]),_0x411318=await _0x259bc1['json'](),_0x1d5ef2=_0x411318['result'],_0x568191=await(await _0x180c23('https://tinyurl.com/api-create.php?url='+_0x45e7ef[0x0]))['text'](),_0x3a0eeb=('🔗\x20*Url:*\x20'+_0x568191)['trim']();await _0x3caa5d['sendFile'](_0xb73396['chat'],_0x1d5ef2,'error.mp4',_0x3a0eeb,_0xb73396);}catch{throw'*❌ʟᴏ\x20sᴇɴᴛɪᴍᴏs\x20sᴇ\x20ʜᴀ\x20ɢᴇɴᴇʀᴀᴅᴏ\x20ᴜɴ\x20ᴇʀʀᴏʀ\x20ᴠᴜᴇʟᴠᴇ\x20ɪɴᴛᴇɴᴛᴀʀ❌*';}}}}}};handler['command']=/^(instagramdl|instagram|igdl|ig|instagramdl2|instagram2|igdl2|ig2|instagramdl3|instagram3|igdl3|ig3)$/i;export default handler;const getBuffer=async(_0x1a5752,_0x4dfd1b)=>{_0x4dfd1b=_0x4dfd1b||{};const _0x464030=await _0x73399c({'method':'get','url':_0x1a5752,'headers':{'DNT':0x1,'Upgrade-Insecure-Request':0x1},..._0x4dfd1b,'responseType':'arraybuffer'}),_0x251ef4=Buffer['from'](_0x464030['data'],'binary'),_0x3be7d6=await fileTypeFromBuffer(_0x251ef4);if(!_0x3be7d6||_0x3be7d6['mime']!=='image/jpeg'&&_0x3be7d6['mime']!=='image/png'&&_0x3be7d6['mime']!=='video/mp4')return null;return{'buffer':_0x251ef4,'detectedType':_0x3be7d6};};